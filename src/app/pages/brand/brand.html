
<div [ngClass]="{'plp-container-header-adjust': !_commonService.isScrolledHeader}" >
    <app-promo  [page]="'brand'" class="fixed-btm-app-prmo" [isOverlayMode]="true"></app-promo>
    <div class="container-fluid" [class.hidden]="_commonService.selectedFilterData.page > 1">
        <div class="row">
            <data-cms [background]="'bg-trans'" [cmsData]="API_RESPONSE?.brand[3]?.data?.data"></data-cms>
        </div>
    </div>
    
    <!-- Brand Product List Data -->
    <ng-container
        *ngIf="API_RESPONSE['brand'][1][0].categoryName && couponForbrandCategory && API_RESPONSE['brand'][0].brandName">
        <div class="instant-discount-container">
            <div class="discount-icon">
                <i class="icon-offer" *ngIf="couponForbrandCategory && couponForbrandCategory['percentageDiscount']"></i>
                <i class="icon-offer" *ngIf="couponForbrandCategory && couponForbrandCategory['absoluteDiscount']" ></i>
            </div>
            <div class="discount-text" *ngIf="couponForbrandCategory && couponForbrandCategory['absoluteDiscount']">
                <p class="green-txt">
                    Save {{couponForbrandCategory['absoluteDiscount'] | currency:'INR' : 'symbol' : '1.0-0'}} instantly with online payment.
                </p>
                <p>
                    via <b>UPI, EMI, Credit/Debit Card, Net Banking, Wallets</b> on min. cart value of
                    {{couponForbrandCategory['minimumCartValue'] | mathCeil | currency: 'INR' : 'symbol' :'1.0-0'}} in {{API_RESPONSE['brand'][0].brandName}} {{API_RESPONSE['brand'][1][0].categoryName}}
                    <span><br>*No coupon needed</span>
                </p>
            </div>
            <div class="discount-text" *ngIf="couponForbrandCategory && couponForbrandCategory['percentageDiscount']">
                <p class="green-txt">
                    Save instantly {{couponForbrandCategory['percentageDiscount']}}% with online payment.
                </p>
                <p *ngIf="couponForbrandCategory['minimumCartValue']">
                    via <b>UPI, EMI, Credit/Debit Card, Net Banking, Wallets</b> on min. cart value of
                    {{couponForbrandCategory['minimumCartValue'] | mathCeil | currency: 'INR' : 'symbol' :'1.0-0'}} in {{API_RESPONSE['brand'][0].brandName}} {{API_RESPONSE['brand'][1][0].categoryName}}   
                </p>
                <p *ngIf="!couponForbrandCategory['minimumCartValue'] || couponForbrandCategory['minimumCartValue']">
                    via <b>UPI, EMI, Credit/Debit Card, Net Banking, Wallets.</b>  
                </p>
                <span class="no-text">*No coupon needed</span>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="_commonService.selectedFilterData.page < 2">
        <ng-container *ngIf="adsenseData && adsenseData['TOP_BANNERS']">
            <adsense-main-banner [data]="adsenseData['TOP_BANNERS']"
                [analyticsIdentifier]="'TOP_BANNERS_'+adsenseData['ANALYTIC_IDENTIFIER']"></adsense-main-banner>
        </ng-container>
        <ng-container *ngIf="adsenseData && adsenseData['PROMOTOTED_BRAND_ADS']">
            <adsense-promoted-brands-unit [data]="adsenseData['PROMOTOTED_BRAND_ADS']"
                [analyticsIdentifier]="'PROMOTOTED_BRAND_ADS_'+adsenseData['ANALYTIC_IDENTIFIER']">
            </adsense-promoted-brands-unit>
        </ng-container>
        <ng-container *ngIf="adsenseData && adsenseData['FEATURED_PRODUCT_ADS']">
            <adsense-feature-products-unit [data]="adsenseData['FEATURED_PRODUCT_ADS']"
                [analyticsIdentifier]="'FEATURED_PRODUCT_ADS_'+adsenseData['ANALYTIC_IDENTIFIER']">
            </adsense-feature-products-unit>
        </ng-container>
    </ng-container>


    <div class="pwa-row cate-container"
        *ngIf="API_RESPONSE['brand'][1][0].categoryName && _commonService.selectedFilterData.page < 2">
        <div class="pwa-col-12">
            <div class="sub-cate-container np-btm" >
                    <p class="desc-brand"> Moglix offers superior quality and genuine
                        <a class="text-blue"
                            [routerLink]="[(this._router.url.split('/brands/' + this._activatedRoute.snapshot.params['brand'])[1]).split('#')[0].split('?')[0]]"
                            style="text-transform: capitalize">
                            {{API_RESPONSE['brand'][1][0].categoryName}}
                        </a> from a renowned brand
                        <a class="text-blue"
                            [routerLink]="['/brands/' + API_RESPONSE['brand'][0].friendlyUrl]">{{API_RESPONSE['brand'][0].brandName}}</a>.
                        Easily browse through our assortment and explore more about price, specifications, availability, and
                        deals online for {{(API_RESPONSE['brand'][1][0]?.heading | removeHTML)}}. Buy these products
                        at best prices and get them delivered at your doorstep across India.
                    </p>
            </div>
        </div>
    </div>

    <shared-product-listing [adsenseData]="adsenseData" [pageName]="'BRAND'" [brandName]="API_RESPONSE['brand'][0].brandName"
        [brandUrl]="API_RESPONSE['brand'][0].friendlyUrl"
        [headerName]="'Shop ' + (API_RESPONSE['brand'][1][0]?.heading ? (API_RESPONSE['brand'][1][0]?.heading | removeHTML) : API_RESPONSE['brand'][0].brandName) + (API_RESPONSE['brand'][1][0].categoryName ? ' Online' : ' Products')"
        [productsListingData]="_productListService?.productListingData"
        [informativeVideosData]="informativeVideosData"
        [categoryName]="API_RESPONSE['brand'][1][0].categoryName">      
    </shared-product-listing>

    <recent-viewed-products-wrapper [pageName]="'brand'" [moduleUsedIn]="(API_RESPONSE['brand'][1][0].categoryName)?'PRODUCT_RECENT_PRODUCT_BRAND_CATEGORY':'PRODUCT_RECENT_PRODUCT_BRAND'"></recent-viewed-products-wrapper>

    <ng-container *ngIf="_commonService.selectedFilterData.page < 2 && adsenseData && adsenseData['VIDEOS_ADS']">
        <adsense-related-videos [data]="adsenseData['VIDEOS_ADS']" [analyticsIdentifier]="'VIDEOS_ADS_'+adsenseData['ANALYTIC_IDENTIFIER']"></adsense-related-videos>
    </ng-container>
    
    <app-accordian [accordiansDetails]="accordiansDetails"></app-accordian>
    
    <div class ="promo-container">
        <product-listing-app-promo></product-listing-app-promo>
    </div>
       
    <brand-details-footer *ngIf="_commonService.selectedFilterData.page < 2" [brandDetailsFooterData]="brandFooterData">
    </brand-details-footer>
    
    <!-- Breadcrump of brand page -->
    <ul class="bread-head no-margin mar-b-15" [ngClass]="{'notFoundEl': !(API_RESPONSE['brand'][0]['active']) }">
        <li [routerLink]="['/']" class="f-size-12"> <a [href]="baseDomain + '/'">Home</a></li>
        <li [routerLink]="['/brand-store']" class="item f-size-12"><a [href]="baseDomain + '/brand-store'">Brand</a></li>
        <li class="item f-size-12">
            <a [routerLink]="['/brands/' + API_RESPONSE['brand'][0].friendlyUrl]" style="text-transform: capitalize">
                {{API_RESPONSE['brand'][0].brandName}}</a>
        </li>
        <li *ngIf="API_RESPONSE['brand'][1][0]?.categoryName" class="item f-size-12">
            <a (click)="navigateTo()" style="text-transform: capitalize">{{API_RESPONSE['brand'][1][0]?.categoryName}}</a>
        </li>
    </ul>
</div>