<loader [showLoader]="isReqProcessing"></loader>
<div class="forgot_password_container">
    <div class="stepHeader">
        <h3 class="heading-3">Forgot Password</h3>
        <p class="heading-3-txt">Please Enter Verification Code and set your new password
        </p>
    </div>
    <div class="material-form" [formGroup]="forgotPasswordForm">
        <div class="input-field">
            <label [class.is-focus]="username.value.length!=0">
                <input type="text" [formControl]="username" readonly>
                <span class="label">Mobile Number/Email Id*</span>
                <p class="edit-field" (click)="$event.stopPropagation();onEdit()">EDIT</p>
            </label>
            <ng-container *ngIf="isSubmitted && username.errors != null">
                <p class="error-txt" *ngIf="username.hasError('required')">Please provide Email ID/Phone Number.</p>
            </ng-container>
        </div>
        <div class="input-field resendOtpField">
            <label [class.is-focus]="otp.value.length!=0">
                <span class="resendOtpTxt" *ngIf="isTicking">Resend OTP in {{timerLabel}}</span>
                <input type="text" [formControl]="otp" maxlength="6" [readonly]="isOTPValidated">
                <span class="label">Enter OTP*</span>
                <p class="edit-field" *ngIf="canRequestOTP && !isOTPValidated" (click)="$event.stopPropagation();fetchOTP()">RESEND OTP</p>
                <span *ngIf="!canRequestOTP && !isOTPValidated" class="edit-field disabled">RESEND OTP</span>
                <span *ngIf="isOTPValidated " class="icon-done"></span>
            </label>
            <ng-container *ngIf="invalidOTPMessage || (isSubmitted && otp.errors != null)">
                <p class="error-txt" *ngIf="otp.hasError('required')">Please provide valid OTP</p>
                <p class="error-txt" *ngIf="otp.hasError('minlength') || otp.hasError('pattern')">OTP must contain 6 digits.</p>
                <p class="error-txt" *ngIf="invalidOTPMessage && otp.errors == null">{{invalidOTPMessage}}</p>
            </ng-container>
        </div>
        <div class="input-field">
            <label [class.is-focus]="password.value.length!=0">
                <input [type]="isPasswordType?'password':'text'" [formControl]="password">
                <span class="label">Set Password*</span>
                <i class="icon-view-password show-pass" [class.green-txt]="!isPasswordType" (click)="$event.stopPropagation();setPasswordType();"></i>
            </label>
            <ng-container *ngIf="isSubmitted && password.errors != null">
                <p class="error-txt" *ngIf="password.hasError('required')">{{password.errors.required}}</p>
                <p class="error-txt" *ngIf="password.hasError('minlength')">{{password.errors.minlength}}</p>
                <p class="error-txt" *ngIf="password.hasError('space')">{{password.errors.space}}</p>
            </ng-container>
        </div>
    </div>
    <button class="btn signInbtn" (click)="$event.stopPropagation();updatePassword()">CONTINUE</button>
</div>