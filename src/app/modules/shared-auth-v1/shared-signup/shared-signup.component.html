<!-- sign-up-form -->
<shared-auth-header [isCheckout]="isCheckout"></shared-auth-header>
<ng-container *ngIf="currentStep === 'OTP'">
    <shared-auth-otp [otpFormArray]="otpForm" [isCheckout]="isCheckout" [source]="'signup'" [identifier]="phone.value"
        (otpEmitter)="captureOTP($event)"></shared-auth-otp>
</ng-container>

<ng-container *ngIf="currentStep === 'DETAILS'">
    <div class="outer-card">
        <h3 class="heading-custom-3">{{isSingupUsingPhone?'Almost Done!':'Looks like youâ€™re new here!'}}</h3>
        <p>{{isSingupUsingPhone?'Just a few more details':'Please provide below information'}}</p>
    </div>
    <div class="login-card">
        <form class="material-form" [formGroup]="signupForm">
            <div class="outline-input-label">
                <label [class.is-focus]="firstName.value.length!=0">
                    <input type="text" formControlName="firstName" maxlength="20">
                    <span class="label">Enter User Name*</span>
                    <ng-container *ngIf="(firstName.touched || firstName.dirty)">
                        <p class="error-txt" *ngIf="firstName.hasError('required')">Enter user name</p>
                        <p class="error-txt"
                            *ngIf="!(firstName.hasError('required')) && firstName.hasError('whitespace')">
                            Username cannot start with space(s)</p>
                    </ng-container>
                </label>
            </div>
            <div class="outline-input-label" *ngIf="!(isSingupUsingPhone)">
                <label [class.is-focus]="phone.value.length!=0">
                    <input type="tel" numbersOnly formControlName="phone" maxlength="10" autocomplete="off">
                    <span class="label">Enter Mobile Number*</span>
                    <ng-container *ngIf="phone.touched || phone.dirty">
                        <p class="error-txt" *ngIf="phone.errors !== null">Enter 10 digit mobile number</p>
                        <p class="error-txt" *ngIf="signupForm.valid && isUserExists">Number already exists, try different number or try
                            sign-in</p>
                    </ng-container>
                </label>
            </div>
            <div class="outline-input-label" *ngIf="isSingupUsingPhone">
                <label [class.is-focus]="email.value.length!=0">
                    <input type="text" formControlName="email" maxlength="100" autocomplete="off">
                    <span class="label">Enter Email-ID (Optional)</span>
                    <ng-container *ngIf="email.touched || email.dirty">
                        <p class="error-txt" *ngIf="email.errors && email.errors.invalidCharT">
                            Enter valid Email-ID
                        </p>
                        <p class="error-txt" *ngIf="isUserExists">
                            Email already exists, try different email or try sign-in</p>
                    </ng-container>
                </label>
            </div>
            <div class="outline-input-label">
                <label [class.is-focus]="password.value.length!=0">
                    <input [type]="isPasswordType?'password':'text'" formControlName="password" maxlength="20" autocomplete="off">
                    <span class="label">Enter Password (Optional)</span>
                    <i class="icon-view-password active-password-icon" *ngIf="password.value" (click)="$event.stopPropagation();togglePasswordType()"></i>
                    <ng-container *ngIf="(password.touched || password.dirty)">
                        <p class="error-txt" *ngIf="password.hasError('required')">{{password.errors.required}}</p>
                        <p class="error-txt" *ngIf="password.hasError('minlength')">{{password.errors.minlength}}</p>
                        <p class="error-txt" *ngIf="password.hasError('space')">{{password.errors.space}}</p>
                    </ng-container>
                </label>
            </div>
            <button class="btn btn-variant1" [class.btn-disabled]="disableContinue" (click)="validateUser($event)">
                SIGN-UP NOW
            </button>
        </form>
        <p class="safe-text">Your details are safe with us.</p>
    </div>
</ng-container>